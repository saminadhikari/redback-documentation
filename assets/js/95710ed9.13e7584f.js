"use strict";(self.webpackChunkredback_documentation=self.webpackChunkredback_documentation||[]).push([[4621],{25534:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>d,contentTitle:()=>s,default:()=>c,frontMatter:()=>a,metadata:()=>o,toc:()=>l});var i=r(74848),t=r(28453);const a={sidebar_position:1},s="Wearable IoT device for the Elderly",o={id:"project-2/Device Design/Wearable_device",title:"Wearable IoT device for the Elderly",description:"Block Diagram of the Smart watch and its components",source:"@site/docs/project-2/Device Design/Wearable_device.md",sourceDirName:"project-2/Device Design",slug:"/project-2/Device Design/Wearable_device",permalink:"/redback-documentation/docs/project-2/Device Design/Wearable_device",draft:!1,unlisted:!1,editUrl:"https://github.com/Redback-Operations/redback-documentation/blob/main/docs/project-2/Device Design/Wearable_device.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1},sidebar:"tutorialSidebar",previous:{title:"Device Design",permalink:"/redback-documentation/docs/category/device-design"},next:{title:"Components",permalink:"/redback-documentation/docs/project-2/Device Design/Components"}},d={},l=[{value:"License",id:"license",level:2}];function h(e){const n={a:"a",admonition:"admonition",br:"br",code:"code",h1:"h1",h2:"h2",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h1,{id:"wearable-iot-device-for-the-elderly",children:"Wearable IoT device for the Elderly"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"Block Diagram of the Smart watch and its components",src:r(1616).A+"",width:"1401",height:"1402"})}),"\n",(0,i.jsx)(n.p,{children:"This page and its children document the design and implementation of the hardware for Redback-Operations Smart Watch Project."}),"\n",(0,i.jsx)(n.p,{children:"We're eagerly seeking a name and branding for it with the shortlist of:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Safeguardia"}),"\n",(0,i.jsx)(n.li,{children:"Elli"}),"\n",(0,i.jsx)(n.li,{children:"Readbackaware"}),"\n",(0,i.jsx)(n.li,{children:"Awarewear"}),"\n",(0,i.jsx)(n.li,{children:"Lachesis"}),"\n"]}),"\n",(0,i.jsx)(n.h1,{id:"backgroundobjective",children:"Background/Objective"}),"\n",(0,i.jsx)(n.p,{children:"The smartwatch aspect of this project will be the primary physical interface between our users and the work that has been conducted between each of our project teams. It is a bespoke design to facilitate the capture of data of interest to our Predictive Modelling and Analytics teams while also designed with the aim of providing a feature set that will encourage our users to actively engage with the device."}),"\n",(0,i.jsx)(n.p,{children:"When designing the hardware we've had to balance the considerations between our data team and our end user. These considerations have included the physical interface of the device, where we've noted that the elderly tend to be averse to touch interfaces and have opted for our primary navigation to be tactile and mechanical using buttons and a wheel. The implemented sensor array has been selected primarily based on the requirements of the data analytics teams and with consideration to data that may be useful to them that isn't necessarily available on existing smart watches."}),"\n",(0,i.jsx)(n.h1,{id:"getting-started",children:"Getting Started"}),"\n",(0,i.jsxs)(n.p,{children:["In the interest of making this as accessible to the developer as it is to the user, we have opted to base our device on the ",(0,i.jsx)(n.a,{href:"https://store-usa.arduino.cc/products/arduino-nano-33-iot",children:"Arduino Nano IoT 33"}),". This means that all one needs to start developing for the project is the Arduino IDE or a compatible tool-chain."]}),"\n",(0,i.jsxs)(n.p,{children:["The Arduino IDE is available ",(0,i.jsx)(n.a,{href:"https://www.arduino.cc/en/software",children:"here"})," with binaries for Windows 10+, macOS (intel / apple) and Linux (appimage but its available in many package repos and can be compiled from source)."]}),"\n",(0,i.jsxs)(n.p,{children:["Going forward we will be migrating development to ",(0,i.jsx)(n.a,{href:"https://platformio.org/",children:"PlatformIO"}),", A platform anogstic development environment for microcontrollers with extensions in a number of IDE's and text editors."]}),"\n",(0,i.jsxs)(n.p,{children:["With a way to work on the codebase now installed and configured, you may find the device software under\r\n",(0,i.jsx)(n.code,{children:"./Codebase/Complete_Code/"}),". ",(0,i.jsx)(n.br,{}),"\n","At present this is a monolithic file containing the entire firmware for the device but in future we will be modularizing it for ease of maintenance."]}),"\n",(0,i.jsx)(n.admonition,{type:"warning",children:(0,i.jsxs)(n.p,{children:["Please ensure that any API keys in use are added to ",(0,i.jsx)(n.code,{children:"secrets.h"})," and add that file to your .gitignore"]})}),"\n",(0,i.jsxs)(n.p,{children:["Work on the PCB has been conducted in ",(0,i.jsx)(n.a,{href:"https://www.altium.com/altium-designer",children:"Altium Designer"})," however the files can be imported into KiCAD."]}),"\n",(0,i.jsx)(n.h1,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,i.jsx)(n.p,{children:"The libraries in use are mostly available within the Arduino Library Manager and are drivers for the sensors and display module. Please make sure that you have them enabled / installed."}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"https://www.arduino.cc/reference/en/language/functions/communication/spi/",children:"SPI.h - Built into Arduino."})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Enables communication with the Serial Peripheral Interface Protocol."}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"https://github.com/arduino-libraries/WiFiNINA",children:"WiFiNINA.h - Available through the Library Manager and on github."})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Allows using the WiFiNINA module to perform wireless tasks."}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"https://github.com/adafruit/Adafruit_Sensor",children:"Adafruit_Sensor.h - Available through the Library Manager and on github."})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Prerequisite Framework for other Adafruit Libraries."}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"https://github.com/adafruit/DHT-sensor-library",children:"DHT.h - Available through the Library Manager and on github."})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Library for the DHT humidity / temperature sensor family. (Deprecated in the Mk2)"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"https://github.com/adafruit/Adafruit-GFX-Library",children:"Adafruit_GFX.h - Available through the Library Manager and on github."})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Core graphics library for Adafruit displays."}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"https://github.com/adafruit/Adafruit_SSD1306",children:"Adafruit_SSD1306.h - Available through the Library Manager and on github."})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Monochrome OLED display used in the initial prototype (Deprecated in the Mk2)."}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"https://www.arduino.cc/reference/en/language/functions/communication/wire/",children:"Wire.h - Available through the Library Manager."})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Enables communication with the I2C protocol."}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"https://github.com/adafruit/Adafruit_BME680",children:"Adafruit_BME680.h - Available through the Library Manager and on github."})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Library for the Temperature, Pressure, Humidity and Gas Sensor."}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"https://www.arduino.cc/reference/en/libraries/arduino_lsm6ds3/",children:"Arduino_LSM6DS3.h - Available through the Library Manager."})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Library for the Nano IoT 33's Inbuilt Accelerometer, Gryoscope and Temperature Sensor."}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"https://www.arduino.cc/reference/en/libraries/rtczero/",children:"RTCZero.h - Available through the Library Manager."})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Permits RTC functions."}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"https://www.arduino.cc/reference/en/libraries/wifi/wifiudp/",children:"WiFiUdp.h - Available through the Library Manager."})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Library for UDP packet Tx / Rx."}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"https://github.com/DFRobot/DFRobot_MAX30102",children:"DFRobot_MAX30102.h - Must be downloaded and installed from the official repo."})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Library for the Heart-Rate and Oximeter Sensor."}),"\n",(0,i.jsx)(n.li,{children:"To Install, download the library from the repo and save in your \\Arduino\\libraries directory."}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"https://github.com/mathworks/thingspeak-arduino",children:"ThingSpeak.h - Available through the Library Manager and on github."})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Communications library for writing to the ThingSpeak API endpoints. This will probably be deprecated in the future due to the limited fields avaialable."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h1,{id:"installation",children:"Installation"}),"\n",(0,i.jsxs)(n.p,{children:["A fresh from the fab Mk2 PCB will require the burning of a bootloader before it can be used with the Arduino IDE.",(0,i.jsx)(n.br,{}),"\n","The easiest way is to use another arduino acting as an ISP programmer. ",(0,i.jsx)(n.br,{}),"\n","This is easy but might be a bit scary your first time because fair warning, if you do it wrong you can brick the board.",(0,i.jsx)(n.br,{}),"\n","But trust me, read the steps twice and then follow them step by step and she'll be right, you got this. ",(0,i.jsx)(n.br,{}),"\n","The official walkthrough is available ",(0,i.jsx)(n.a,{href:"https://support.arduino.cc/hc/en-us/articles/8991429732124-Burn-the-bootloader-on-Arduino-Nano-33-IoT",children:"here"}),"."]}),"\n",(0,i.jsx)(n.h1,{id:"folder-structure",children:"Folder Structure"}),"\n",(0,i.jsx)(n.p,{children:"The folder structure compartmentalizes the three aspects of our hardware repository,"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["CAD_Designs","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Contain the designs for our case and custom PCB"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["Codebase","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Contains the functioning code in ",(0,i.jsx)(n.a,{href:"https://github.com/Redback-Operations/Elderly_Wearable_Tech/tree/main/IoT_Wearable/Codebase/Complete_Code",children:"Complete Code"})," as well as experiments, examples and archived efforts in their respective folders."]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["Documentation","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Contains written and visual deliverables, research notes, datasheets and guides. More yet to come."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:".\r\n\u251c\u2500\u2500 CAD_Designs\r\n\u2502   \u251c\u2500\u2500 Case\r\n\u2502   \u2514\u2500\u2500 PCB\r\n\u251c\u2500\u2500 Codebase\r\n\u2502   \u251c\u2500\u2500 Archive\r\n\u2502   \u251c\u2500\u2500 Complete_Code\r\n\u2502   \u251c\u2500\u2500 Example_Code\r\n\u2502   \u2514\u2500\u2500 Experiments\r\n\u2514\u2500\u2500 Documentation\r\n    \u251c\u2500\u2500 DataSheets\r\n    \u251c\u2500\u2500 Figures\r\n    \u251c\u2500\u2500 ReleaseForms\r\n    \u2514\u2500\u2500 Videos\r\n\n"})}),"\n",(0,i.jsx)(n.h1,{id:"project-status",children:"Project Status"}),"\n",(0,i.jsx)(n.p,{children:"Presently, we are constructing the first iteration to fit an actual wristwatch form factor. A number of components have been changed or removed and the rest are in the process of being integrated into a custom PCB based on the Arduino Nano IoT 33. Once this prototype has been ordered, work on the project will snowball as we work to programmatically integrate everything into a new firmware for the device as well as building out a case."}),"\n",(0,i.jsx)(n.h1,{id:"future-considerations",children:"Future Considerations"}),"\n",(0,i.jsx)(n.p,{children:"We've reached the limit of the Arduino IoT Nano 33's avaliable I/O and so any further additions will require either consolidation or migration to a new base Microcontroller. We are working to refactor the codebase such that it isn't monolithic. Based on testing with the new device it might be worth considering a larger screen but that determination has been set aside for later"}),"\n",(0,i.jsx)(n.h1,{id:"compliance-and-safety",children:"Compliance and Safety"}),"\n",(0,i.jsxs)(n.p,{children:["As this is a data collection platform targeting health data in particular, it is ",(0,i.jsx)(n.strong,{children:"paramount"})," that any subjects who have their data captured provide informed consent to the data capture.\r\nPlease make use of the consent forms located under ",(0,i.jsx)(n.code,{children:"Documentation/ReleaseForms"})," if using on someone not directly involved with development."]}),"\n",(0,i.jsxs)(n.p,{children:["It was mentioned above however it bares repeating: ",(0,i.jsx)(n.br,{}),"\n","Credentials and Secrets such as API_Keys are scraped from public repos ",(0,i.jsx)(n.strong,{children:"constantly"}),".",(0,i.jsx)(n.br,{}),"\n","Please make use of the secrets.h file for WiFi credentials, user accounts and API keys and add it to your ",(0,i.jsx)(n.code,{children:".gitignore"}),".",(0,i.jsx)(n.br,{}),"\n","Failure to do so will be grumbled at and subsequently mocked."]}),"\n",(0,i.jsx)(n.h2,{id:"license",children:"License"}),"\n",(0,i.jsxs)(n.p,{children:["The Hardware of this project is bound under the terms of a ",(0,i.jsx)(n.a,{href:"https://creativecommons.org/licenses/by-nc-sa/4.0/deed.en",children:"Creative Commons Noncommercial Sharealike 4.0 license"})," inherited from the Arduino Nano 33 IoT it is based on.",(0,i.jsx)(n.br,{}),"\n","The software is bound under ",(0,i.jsx)(n.a,{href:"https://www.gnu.org/licenses/gpl-3.0.en.html",children:"GPLv3"}),".",(0,i.jsx)(n.br,{}),"\n","The Datasheets are the property of their relevant authors and are only provided here for reference.\r\nWritten Artefacts, reports and visual media are tbd"]})]})}function c(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(h,{...e})}):h(e)}},1616:(e,n,r)=>{r.d(n,{A:()=>i});const i=r.p+"assets/images/IoTWearableBlock.drawio-6c03d0acfbba4b8fac2951bb92b2fcba.png"},28453:(e,n,r)=>{r.d(n,{R:()=>s,x:()=>o});var i=r(96540);const t={},a=i.createContext(t);function s(e){const n=i.useContext(a);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:s(e.components),i.createElement(a.Provider,{value:n},e.children)}}}]);