"use strict";(self.webpackChunkredback_documentation=self.webpackChunkredback_documentation||[]).push([[5326],{16378:(e,n,a)=>{a.r(n),a.d(n,{assets:()=>d,contentTitle:()=>o,default:()=>h,frontMatter:()=>r,metadata:()=>i,toc:()=>c});var t=a(74848),s=a(28453);const r={sidebar_position:5,sidebar_label:"Dremio api (for data analysts)"},o="How to access data stored in dremio datawarehouse (for data analysts)",i={id:"data-warehousing/Data Lakehouse/Dremio-API(For data analysts)",title:"How to access data stored in dremio datawarehouse (for data analysts)",description:"Connecting to deakins network",source:"@site/docs/data-warehousing/Data Lakehouse/Dremio-API(For data analysts).md",sourceDirName:"data-warehousing/Data Lakehouse",slug:"/data-warehousing/Data Lakehouse/Dremio-API(For data analysts)",permalink:"/redback-documentation/docs/data-warehousing/Data Lakehouse/Dremio-API(For data analysts)",draft:!1,unlisted:!1,editUrl:"https://github.com/Redback-Operations/redback-documentation/blob/main/docs/data-warehousing/Data Lakehouse/Dremio-API(For data analysts).md",tags:[],version:"current",sidebarPosition:5,frontMatter:{sidebar_position:5,sidebar_label:"Dremio api (for data analysts)"},sidebar:"tutorialSidebar",previous:{title:"Managing the structured dremio solution",permalink:"/redback-documentation/docs/data-warehousing/Data Lakehouse/Managing-the-structured-solution"},next:{title:"Data Anonymization",permalink:"/redback-documentation/docs/category/data-anonymization"}},d={},c=[{value:"Connecting to deakins network",id:"connecting-to-deakins-network",level:3},{value:"Making a SQL request to dremio in jupyter",id:"making-a-sql-request-to-dremio-in-jupyter",level:3}];function l(e){const n={a:"a",code:"code",h1:"h1",h3:"h3",p:"p",pre:"pre",...(0,s.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h1,{id:"how-to-access-data-stored-in-dremio-datawarehouse-for-data-analysts",children:"How to access data stored in dremio datawarehouse (for data analysts)"}),"\n",(0,t.jsx)("br",{}),"\n",(0,t.jsx)(n.h3,{id:"connecting-to-deakins-network",children:"Connecting to deakins network"}),"\n",(0,t.jsxs)(n.p,{children:["First part of accessing the datawarehouse is connecting to deakins network which requires downloading and connecting to deakins network using ",(0,t.jsx)(n.a,{href:"https://www.deakin.edu.au/students/student-life-and-services/health-wellbeing-and-safety/safety-security/online-safety-security/secure-your-devices/vpn",children:"anyconnect VPN"})]}),"\n",(0,t.jsx)(n.p,{children:"Once there select your operating system which will redirect you to a guide explaining how to download, install and connect to deakins network. (If you get a permission error saying you dont have access ensure you are logged in at the top right after the redirection)"}),"\n",(0,t.jsx)("br",{}),"\n",(0,t.jsx)(n.h3,{id:"making-a-sql-request-to-dremio-in-jupyter",children:"Making a SQL request to dremio in jupyter"}),"\n",(0,t.jsx)(n.p,{children:"The first step in ensuring you have the correct packages installed. Required for this guide can be downloaded with this command."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"pip install requests pandas\n"})}),"\n",(0,t.jsx)("br",{}),"\n",(0,t.jsx)(n.p,{children:"Then import these into your notebook."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"import requests\r\nimport json\r\nimport pandas as pd\n"})}),"\n",(0,t.jsx)("br",{}),"\n",(0,t.jsx)(n.p,{children:"After that declare the api url exactly as below."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:'api_url = "http://10.137.0.149:5001/dremio_query"\n'})}),"\n",(0,t.jsx)("br",{}),"\n",(0,t.jsx)(n.p,{children:"Then declare the headers."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:'headers = {\r\n    "Content-Type": "application/json"\r\n}\n'})}),"\n",(0,t.jsx)("br",{}),"\n",(0,t.jsx)(n.p,{children:"Then the sql query you wish to query the database with."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:'sql_query = {\r\n    "sql": "SELECT * FROM \\"project-3\\" \\"extended_activities\\" LIMIT 10;"\r\n}\n'})}),"\n",(0,t.jsxs)(n.p,{children:["As of writing this documentation, users of this api are restricted to using only ",(0,t.jsx)(n.code,{children:"SELECT"})," queries to prevent malicous use. There is also two usable sources being project-3 and project-2 though the tables within those sources are subject to change in which this documentation will likely be updated with a directory guide."]}),"\n",(0,t.jsx)("br",{}),"\n",(0,t.jsx)(n.p,{children:"Then send the post request and store the response."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"response = requests.post(api_url, headers=headers, data=json.dumps(sql_query))\n"})}),"\n",(0,t.jsx)("br",{}),"\n",(0,t.jsx)("br",{}),"\n",(0,t.jsx)(n.p,{children:"Parse the JSON reponse."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"result = response.json()\n"})}),"\n",(0,t.jsx)("br",{}),"\n",(0,t.jsx)(n.p,{children:"Finally convert it into data frame."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"df = pd.DataFrame(result['rows'])\n"})}),"\n",(0,t.jsx)("br",{}),"\n",(0,t.jsx)(n.p,{children:"Which you can use just like any other dataframe like:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"display(df)\n"})})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(l,{...e})}):l(e)}},28453:(e,n,a)=>{a.d(n,{R:()=>o,x:()=>i});var t=a(96540);const s={},r=t.createContext(s);function o(e){const n=t.useContext(r);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),t.createElement(r.Provider,{value:n},e.children)}}}]);